<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        .box {
            width: 100%;
            height: 100%;
            background-color: #00ff00;
            position: fixed;
            left: 0px;
            top: 0px;
        }
    </style>
</head>

<body>
    <div class="box" id="cube">

    </div>
    <script>
        window.onload = function () {
            var oDv = [];
            var oDiv = document.getElementById("cube");
            var timer;
            var k = 0;
            var number;
            //获取浏览器高度
            var winWidth = window.innerWidth;
            var winHeight = window.innerHeight;
            function copy(number) {
                for (var i = 0; i < number; i++) {
                    oDv[i] = document.createElement("div");
                    oDv[i].style.width = (Math.random() * 40 + 20) + 'px';
                    oDv[i].style.height = (Math.random() * 40 + 20) + 'px';
                    oDv[i].style.left = Math.random() * winWidth + 'px';
                    oDv[i].style.top = '10px';
                    oDv[i].style.position = 'absolute';
                    var rand = Math.round(Math.random() * 1000000)
                    oDv[i].style.backgroundColor = '#' + rand;

                }
            }
            function creat(number) {
                oDiv.appendChild(oDv[k])
                k = k + 1;
                for (let i = 0; i < number; i++) {
                    timer1 = setInterval(function () {
                        move(oDv[i]);
                    }, 500)
                // console.dir(timer);
                }
                if (k >= number)
                    clearInterval(timer);
            }

            timer = setInterval(function () {
                creat(20);
            }, 1000)


            
            function move(element) {
                var top = element.offsetTop;
                element.style.top = top + 6 + "px";
                if (top >= winHeight) {
                    element.style.top = '0px';
                }
            }
            copy(20);
        }
    </script>
</body>

</html>
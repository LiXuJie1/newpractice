<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
		body {
			margin: 0;
		}
		
		.bg {
			position: absolute;
			height: 100%;
			width: 100%;
			background: url(img/image23.jpg) no-repeat top center;
			background-size: cover;
			overflow: hidden;
		}
		
		.bg img {
			position: absolute;
			left: 0;
			top: 10px;
			-webkit-transition: all 0.5s ease-out;
			-moz-transition: all 0.5s ease-out;
			-ms-transition: all 0.5s ease-out;
			-o-transition: all 0.5s ease-out;
			transition: all 0.5s ease-out;
		}
	</style>
</head>

<body>
	<div id="box" class="bg">

	</div>
	<script type="text/javascript">
			window.onload = function () {
           var winWidth = window.innerWidth;
			var winHeight = window.innerHeight;
			var oBox = document.getElementById("box");
			var oDv = [];
			var timer;
			var timer2;
			var k = 0;

            function copy(number) {
                for (var i = 0; i < number; i++) {
                    oDv[i] = document.createElement("div");
					oDv[i].style.width = "32px";
					oDv[i].style.height = "32px";
					oDv[i].style.backgroundImage = 'url(img/snowflake' + parseInt(Math.random() * 20 + 1) + '.png)'
					oDv[i].style.left = Math.random() * winWidth + 'px';
					oDv[i].style.top = "10px";
					oDv[i].style.position = 'absolute';

                }
            }
            function creat(number) {
                oBox.appendChild(oDv[k])
                k = k + 1;
                for (let i = 0; i < number; i++) {
                    timer1 = setInterval(function () {
                        move(oDv[i]);
                    }, 500)
                // console.dir(timer);
                }
                if (k >= number)
                    clearInterval(timer);
            }

            timer = setInterval(function () {
                creat(20);
            }, 1000)


            
            function move(element) {
                var top = element.offsetTop;
                element.style.top = top + 6 + "px";
                if (top >= winHeight) {
                    element.style.top = '0px';
                }
            }
            copy(40);
        }
	</script>
</body>

</html>
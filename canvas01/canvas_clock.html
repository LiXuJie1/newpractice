<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="500px" height="500px"></canvas>
</body>
<script>
    // var now = new Date();
    // var sec = now.getSeconds();
    // var min = now.getMinutes() + sec / 60;
    // var hour = now.getHours() + min / 60;
    //画布
    var oCanvas = document.getElementById('canvas');
    var width = oCanvas.width;
    var height = oCanvas.height;
    //画笔
    var context = oCanvas.getContext('2d');
    // var i=0;
    // (function run(){
    // requestAnimationFrame(run);
    // context.clearRect(0,0,width,height);
    (function clock() {
        var now = new Date();
        var sec = now.getSeconds();
        var min = now.getMinutes() + sec / 60;
        var hour = now.getHours() + min / 60;
        requestAnimationFrame(clock);
        context.clearRect(0, 0, width, height);
         //绘制背景
    context.fillStyle = "#eee";
    context.fillRect(0, 0, width, height);
    //保存位置
    context.save();
    // 绘制表盘
    context.beginPath();
    context.arc(250,250,200,0,2*Math.PI,true);
    context.closePath();
    context.lineWidth=4;
    context.stroke();
    context.restore();


    //划分刻度
    context.save();
    context.translate(250,250);
   for(var i=0;i<60;i++){
       context.beginPath();
       context.rotate(Math.PI/30);
       context.moveTo(0,-180);
       context.lineTo(0,-195);
       context.closePath();
       context.stroke();
       context.lineWidth=2;  
   }

   for(var i=0;i<12;i++){
    context.beginPath();
       context.rotate(Math.PI/6);
       context.moveTo(0,-170);
       context.lineTo(0,-195);
       context.closePath();
       context.stroke();
       context.lineWidth=4;
   }
   context.restore();

   //时针
   context.save();
   context.translate(250,250);
   context.rotate(Math.PI/6*hour);
   context.beginPath();
   context.moveTo(0,20);
   context.lineTo(0,-100);
   context.closePath();
   context.lineWidth=4;
    context.stroke();
   context.restore();
   //分针
   context.save();
   context.translate(250,250);
   context.rotate(Math.PI/30*min);
   context.beginPath();
   context.moveTo(0,20);
   context.lineTo(0,-155);
   context.closePath();
   context.lineWidth=3;
    context.stroke();
   context.restore();
//秒
context.save();
   context.translate(250,250);
   context.rotate(Math.PI/180*sec);
   context.beginPath();
   context.strokeStyle="red";
   context.moveTo(0,20);
   context.lineTo(0,-160);

   context.stroke();
   context.closePath();
   context.lineWidth=2;
    context.stroke();
   context.restore();
    })()
//     //绘制背景
//     context.fillStyle = "#eee";
//     context.fillRect(0, 0, width, height);
//     //保存位置
//     context.save();
//     // 绘制表盘
//     context.beginPath();
//     context.arc(250,250,200,0,2*Math.PI,true);
//     context.closePath();
//     context.lineWidth=4;
//     context.stroke();
//     context.restore();


//     //划分刻度
//     context.save();
//     context.translate(250,250);
//    for(var i=0;i<60;i++){
//        context.beginPath();
//        context.rotate(Math.PI/30);
//        context.moveTo(0,-180);
//        context.lineTo(0,-195);
//        context.closePath();
//        context.stroke();
//        context.lineWidth=2;  
//    }

//    for(var i=0;i<12;i++){
//     context.beginPath();
//        context.rotate(Math.PI/6);
//        context.moveTo(0,-170);
//        context.lineTo(0,-195);
//        context.closePath();
//        context.stroke();
//        context.lineWidth=4;
//    }
//    context.restore();

//    //时针
//    context.save();
//    context.translate(250,250);
//    context.rotate(Math.PI/6*hour);
//    context.beginPath();
//    context.moveTo(0,20);
//    context.lineTo(0,-100);
//    context.closePath();
//    context.lineWidth=4;
//     context.stroke();
//    context.restore();
//    //分针
//    context.save();
//    context.translate(250,250);
//    context.rotate(Math.PI/30*min);
//    context.beginPath();
//    context.moveTo(0,20);
//    context.lineTo(0,-155);
//    context.closePath();
//    context.lineWidth=3;
//     context.stroke();
//    context.restore();
// //秒
// context.save();
//    context.translate(250,250);
//    context.rotate(Math.PI/180*sec);
//    context.beginPath();
//    context.strokeStyle="red";
//    context.moveTo(0,20);
//    context.lineTo(0,-160);

//    context.stroke();
//    context.closePath();
//    context.lineWidth=2;
//     context.stroke();
//    context.restore();
</script>

</html>